<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NiceGram App</title>
    <style>
        :root {
            --primary: #00ff88;
            --blue-glow: #0066ff;
            --card-bg: rgba(0, 10, 0, 0.2);
        }

        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            -webkit-tap-highlight-color: transparent;
        }

        body, html {
            height: 100%;
            width: 100%;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #0a0a1f, #000510);
            overflow: hidden;
            position: fixed;
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ñ–æ—Ç–æ */
        .photos-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
            overflow: hidden;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ñ–æ—Ç–æ */
        .floating-photo {
            position: absolute;
            border-radius: 10px;
            object-fit: cover;
            opacity: 0.6;
            box-shadow: 
                0 0 25px var(--blue-glow),
                0 0 45px rgba(0, 102, 255, 0.4);
            border: 1px solid rgba(0, 150, 255, 0.5);
            filter: brightness(1.2) saturate(1.3);
            width: 50px; /* –£–º–µ–Ω—å—à–∏–ª–∏ —Ä–∞–∑–º–µ—Ä */
            height: 50px; /* –£–º–µ–Ω—å—à–∏–ª–∏ —Ä–∞–∑–º–µ—Ä */
            animation: floatTogether 12s ease-in-out infinite;
        }

        /* –£–°–ò–õ–ï–ù–ù–ê–Ø –∞–Ω–∏–º–∞—Ü–∏—è */
        @keyframes floatTogether {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg);
                filter: brightness(1.2) saturate(1.3) drop-shadow(0 0 20px var(--blue-glow));
            }
            25% {
                transform: translate(6px, -9px) rotate(3deg);
                filter: brightness(1.3) saturate(1.4) drop-shadow(0 0 25px var(--blue-glow));
            }
            50% {
                transform: translate(0, 0) rotate(0deg);
                filter: brightness(1.2) saturate(1.3) drop-shadow(0 0 20px var(--blue-glow));
            }
            75% {
                transform: translate(-6px, 9px) rotate(-3deg);
                filter: brightness(1.3) saturate(1.4) drop-shadow(0 0 25px var(--blue-glow));
            }
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .screen {
            height: 100vh;
            width: 100vw;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 15px;
            position: relative;
            z-index: 2;
        }

        /* –ö–∞—Ä—Ç–æ—á–∫–∞ */
        .card {
            background: rgba(0, 10, 0, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 255, 0, 0.15);
            padding: 18px;
            border-radius: 18px;
            width: 100%;
            max-width: 280px;
            text-align: center;
            box-shadow: 
                0 0 20px rgba(0, 255, 0, 0.08),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
        }

        h2 {
            color: var(--primary);
            font-size: 19px;
            margin-bottom: 10px;
            font-weight: 700;
            text-shadow: 0 0 8px rgba(0, 255, 0, 0.3);
        }

        p {
            color: rgba(170, 255, 170, 0.85);
            font-size: 12.5px;
            line-height: 1.4;
            margin-bottom: 18px;
        }

        .hidden { 
            display: none !important; 
        }

        /* –ö–∞–ø—á–∞ */
        .captcha-info {
            background: rgba(0, 20, 0, 0.15);
            border-radius: 9px;
            padding: 10px;
            margin-bottom: 18px;
            border: 1px solid rgba(0, 255, 0, 0.12);
        }

        .target-range {
            display: block;
            font-size: 17px;
            font-weight: bold;
            color: var(--primary);
            margin: 6px 0;
            padding: 8px;
            background: rgba(0, 45, 0, 0.2);
            border-radius: 8px;
            border: 1px solid rgba(0, 255, 0, 0.2);
            text-shadow: 0 0 12px rgba(0, 255, 0, 0.4);
        }

        /* –ö–∞–ø—á–∞ */
        .captcha-container {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 0 auto;
        }

        .captcha-circle {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: rgba(0, 15, 0, 0.15);
            border: 2px solid rgba(0, 255, 0, 0.2);
            position: relative;
            box-shadow: 
                inset 0 0 25px rgba(0, 255, 0, 0.06),
                0 0 25px rgba(0, 255, 0, 0.12);
        }

        .degree-display {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100px;
            height: 100px;
            background: rgba(0, 30, 0, 0.35);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: var(--primary);
            border: 2px solid rgba(0, 255, 0, 0.3);
            box-shadow: 
                0 0 15px rgba(0, 255, 0, 0.2),
                inset 0 0 12px rgba(0, 255, 0, 0.06);
            text-shadow: 0 0 12px rgba(0, 255, 0, 0.6);
            z-index: 3;
        }

        /* –°–¢–†–ï–õ–ö–ê –ù–ê –ì–†–ê–ù–ò–¶–ï –ö–†–£–ì–ê */
        .slider-handle {
            position: absolute;
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, #00ff66, #00aa44);
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 
                0 0 20px rgba(0, 255, 0, 0.8),
                0 0 35px rgba(0, 255, 0, 0.4),
                inset 0 1px 3px rgba(255, 255, 255, 0.25);
            cursor: grab;
            user-select: none;
            z-index: 4;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: white;
            top: -17.5px;
            left: 50%;
            margin-left: -17.5px;
            transform-origin: center 117.5px;
            transform: rotate(0deg);
        }

        .slider-handle:active {
            cursor: grabbing;
        }

        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            width: 100%;
            padding: 13px;
            margin-top: 12px;
            border: none;
            border-radius: 9px;
            background: linear-gradient(135deg, rgba(0, 170, 68, 0.8), rgba(0, 102, 34, 0.8));
            color: white;
            font-weight: 600;
            font-size: 13.5px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 
                0 3px 12px rgba(0, 255, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.12);
            text-shadow: 0 1px 1px rgba(0, 0, 0, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 
                0 5px 16px rgba(0, 255, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.15);
        }

        .btn:active {
            transform: translateY(0);
        }

        /* –í—Ç–æ—Ä–∏—á–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ (–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, FAQ) */
        .btn-secondary {
            background: linear-gradient(135deg, rgba(0, 100, 200, 0.8), rgba(0, 60, 150, 0.8));
            margin-top: 8px;
            font-size: 12.5px;
            padding: 10px;
        }

        /* –°—Ç–∞—Ç—É—Å */
        .status {
            margin-top: 15px;
            padding: 11px;
            border-radius: 9px;
            display: none;
            font-size: 12.5px;
            background: rgba(0, 30, 0, 0.2);
            border: 1px solid rgba(0, 255, 0, 0.12);
        }

        .status.active { 
            display: block; 
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .success { 
            background: rgba(0, 255, 0, 0.1); 
            color: #88ff88;
            border-color: rgba(0, 255, 0, 0.2);
        }

        .error { 
            background: rgba(255, 0, 0, 0.1); 
            color: #ff8888;
            border-color: rgba(255, 0, 0, 0.2);
        }

        /* –ò–∫–æ–Ω–∫–∞ —Ñ–∞–π–ª–∞ */
        .file-icon {
            font-size: 32px;
            margin-bottom: 12px;
            display: block;
            color: var(--primary);
            text-shadow: 0 0 15px rgba(0, 255, 0, 0.4);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.04); }
        }

        /* –°—á–µ—Ç—á–∏–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫ */
        .files-counter {
            background: rgba(0, 30, 0, 0.25);
            border-radius: 8px;
            padding: 8px;
            margin: 12px 0;
            font-size: 13px;
            border: 1px solid rgba(0, 255, 0, 0.15);
            color: #88ff88;
        }

        .counter-number {
            font-weight: bold;
            color: var(--primary);
            font-size: 16px;
            margin-left: 5px;
            text-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
        }

        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(5px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .modal-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .modal-content {
            background: rgba(0, 15, 5, 0.95);
            border: 1px solid rgba(0, 255, 0, 0.25);
            border-radius: 15px;
            padding: 20px;
            width: 100%;
            max-width: 320px;
            max-height: 85vh;
            overflow-y: auto;
            transform: scale(0.9);
            transition: transform 0.3s;
            box-shadow: 0 0 40px rgba(0, 255, 0, 0.15);
        }

        .modal-overlay.active .modal-content {
            transform: scale(1);
        }

        .modal-header {
            color: var(--primary);
            font-size: 18px;
            margin-bottom: 15px;
            text-align: center;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(0, 255, 0, 0.3);
        }

        .modal-text {
            color: rgba(200, 255, 200, 0.9);
            font-size: 13px;
            line-height: 1.5;
            margin-bottom: 20px;
        }

        .modal-close-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, rgba(0, 170, 68, 0.9), rgba(0, 102, 34, 0.9));
            border: none;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
        }

        /* FAQ —Å—Ç–∏–ª–∏ */
        .faq-item {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(0, 255, 0, 0.1);
        }

        .faq-question {
            color: var(--primary);
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 14px;
        }

        .faq-answer {
            color: rgba(200, 255, 200, 0.8);
            font-size: 12.5px;
        }

        /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
        @media (max-width: 480px) {
            .card {
                padding: 16px;
                max-width: 260px;
            }
            
            .captcha-container {
                width: 180px;
                height: 180px;
            }
            
            .degree-display {
                width: 90px;
                height: 90px;
                font-size: 22px;
            }
            
            .slider-handle {
                width: 32px;
                height: 32px;
                font-size: 16px;
                top: -16px;
                margin-left: -16px;
                transform-origin: center 106px;
            }
            
            .floating-photo {
                width: 45px; /* –£–º–µ–Ω—å—à–∏–ª–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
                height: 45px;
            }
            
            .modal-content {
                max-width: 280px;
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- –§–æ—Ç–æ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
    <div class="photos-container" id="photos-container"></div>

    <!-- –≠–∫—Ä–∞–Ω –ö–∞–ø—á–∏ -->
    <div class="screen" id="captcha-screen">
        <div class="card">
            <h2>üîê –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</h2>
            <p>–ü–æ–≤–µ—Ä–Ω–∏—Ç–µ —Å—Ç—Ä–µ–ª–∫—É –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω</p>
            
            <div class="captcha-info">
                <div class="target-range" id="target-range">30¬∞ - 50¬∞</div>
            </div>
            
            <div class="captcha-container">
                <div class="captcha-circle">
                    <div class="degree-display" id="degree">0¬∞</div>
                </div>
                <div class="slider-handle" id="slider-handle">‚Üë</div>
            </div>
            
            <button class="btn" id="verify-btn">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
        </div>
    </div>

    <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
    <div class="screen hidden" id="main-screen">
        <div class="card">
            <span class="file-icon">üìÑ</span>
            <h2 id="welcome-user">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</h2>
            <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª (.txt)</p>
            
            <!-- –°—á–µ—Ç—á–∏–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫ -->
            <div class="files-counter">
                üìä –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Ñ–∞–π–ª–æ–≤ –∑–∞ —Å–µ–≥–æ–¥–Ω—è: <span class="counter-number" id="files-counter">0</span>
            </div>
            
            <button class="btn" id="select-file-btn">
                üì§ –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª
            </button>
            
            <button class="btn btn-secondary" id="instruction-btn">
                üìñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
            </button>
            
            <button class="btn btn-secondary" id="faq-btn">
                ‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã
            </button>
            
            <input type="file" id="file-input" accept=".txt" hidden>
            
            <div id="status-msg" class="status"></div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è -->
    <div class="modal-overlay" id="instruction-modal">
        <div class="modal-content">
            <div class="modal-header">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</div>
            <div class="modal-text">
                <p><strong>1. –°–∫–∞—á–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Nicegram —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞...</strong></p>
                <p><strong>2. –û—Ç–∫—Ä–æ–π—Ç–µ Nicegram –∏ –≤–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç.</strong></p>
                <p><strong>3. –ó–∞–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç ¬´Nicegram¬ª.</strong></p>
                <p><strong>4. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª...</strong></p>
                <p><strong>5. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –±–æ—Ç–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ä–µ—Ñ–∞—É–Ω–¥".</strong></p>
                <p><strong>6. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª –±–æ—Ç—É.</strong></p>
                <p><strong>7. –û–∂–∏–¥–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∏.</strong></p>
            </div>
            <button class="modal-close-btn" id="close-instruction">–ü–æ–Ω—è—Ç–Ω–æ</button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ FAQ -->
    <div class="modal-overlay" id="faq-modal">
        <div class="modal-content">
            <div class="modal-header">‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</div>
            <div class="modal-text">
                <div class="faq-item">
                    <div class="faq-question">–ß—Ç–æ —Ç–∞–∫–æ–µ —Ä–µ—Ñ–∞—É–Ω–¥?</div>
                    <div class="faq-answer">–≠—Ç–æ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤ –∑–∞ –ø–æ–¥–∞—Ä–æ–∫...</div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–Ω–∏–º–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞?</div>
                    <div class="faq-answer">–û–±—ã—á–Ω–æ 3-5 –º–∏–Ω—É—Ç, –±—ã–≤–∞—é—Ç –∑–∞–¥–µ—Ä–∂–∫–∏</div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">–ú–æ–∏ —Ñ–∞–π–ª—ã –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏?</div>
                    <div class="faq-answer">–î–∞ - –º—ã –Ω–µ —Ö—Ä–∞–Ω–∏–º –≤–∞—à–∏ —Ñ–∞–π–ª—ã, –∏—Ö –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞—à –±–æ—Ç, –ø–æ—Å–ª–µ —á–µ–≥–æ —É–¥–∞–ª—è–µ—Ç</div>
                </div>
            </div>
            <button class="modal-close-btn" id="close-faq">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–æ—Ç–æ —Å—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            spawnRandomPhotos();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
            initModals();
        });

        // –§—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
        function initModals() {
            // –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
            const instructionBtn = document.getElementById('instruction-btn');
            const instructionModal = document.getElementById('instruction-modal');
            const closeInstruction = document.getElementById('close-instruction');
            
            if (instructionBtn && instructionModal && closeInstruction) {
                instructionBtn.addEventListener('click', () => {
                    instructionModal.classList.add('active');
                });
                
                closeInstruction.addEventListener('click', () => {
                    instructionModal.classList.remove('active');
                });
                
                instructionModal.addEventListener('click', (e) => {
                    if (e.target === instructionModal) {
                        instructionModal.classList.remove('active');
                    }
                });
            }
            
            // FAQ
            const faqBtn = document.getElementById('faq-btn');
            const faqModal = document.getElementById('faq-modal');
            const closeFaq = document.getElementById('close-faq');
            
            if (faqBtn && faqModal && closeFaq) {
                faqBtn.addEventListener('click', () => {
                    faqModal.classList.add('active');
                });
                
                closeFaq.addEventListener('click', () => {
                    faqModal.classList.remove('active');
                });
                
                faqModal.addEventListener('click', (e) => {
                    if (e.target === faqModal) {
                        faqModal.classList.remove('active');
                    }
                });
            }
        }

        // –§—É–Ω–∫—Ü–∏—è —Å–ø–∞–≤–Ω–∞ —Ñ–æ—Ç–æ - –í–°–ï–• –ö–ê–†–¢–ò–ù–û–ö
        function spawnRandomPhotos() {
            const container = document.getElementById('photos-container');
            if (!container) {
                console.error('–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ñ–æ—Ç–æ –Ω–µ –Ω–∞–π–¥–µ–Ω!');
                return;
            }
            
            container.innerHTML = '';
            
            // –í–°–ï URL –∫–∞—Ä—Ç–∏–Ω–æ–∫ –∏–∑ –≤–∞—à–µ–≥–æ –∫–æ–¥–∞
            const photoUrls = [
                "https://avatars.mds.yandex.net/i?id=dea1c245066cadd89ce5617f74f46bff0b8e2ed2-4965879-images-thumbs&n=13",
                "https://avatars.mds.yandex.net/i?id=503cbfc8e91c66f6a29773d2e1ff0cec39c9ca7e-6871359-images-thumbs&n=13", 
                "https://web3.okx.com/cdn/nft/files/4b92ce08-ee3e-4e72-9b20-9226f1a8e2d3.webp/type=list",
                "https://avatars.mds.yandex.net/i?id=ff31b4702b22783ef7644fec3b5061da4268e6cf-8211189-images-thumbs&n=13",
                "https://avatars.mds.yandex.net/i?id=fc9e5a3c05f9e7fb6da1a46b5009c50d_l-5874318-images-thumbs&n=13",
                // –î–æ–±–∞–≤–∏–º –µ—â–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Ä—Ç–∏–Ω–æ–∫ –¥–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è
                "https://avatars.mds.yandex.net/i?id=f616bc760b38e707ae98c1f3e4a65f84_l-5842563-images-thumbs&n=13",
                "https://avatars.mds.yandex.net/i?id=ab0d942f1967fdf4da96393a71a43f5b_l-5845128-images-thumbs&n=13",
                "https://avatars.mds.yandex.net/i?id=6016b486234a9804635d649755df20ef_l-8186743-images-thumbs&n=13",
                "https://avatars.mds.yandex.net/i?id=ce0b17af4e55442f2fbf6a11731718da_l-5873069-images-thumbs&n=13",
                "https://avatars.mds.yandex.net/i?id=2910694b98b52c01f78e8ea206b56985_l-5844967-images-thumbs&n=13"
            ];
            
            const usedPositions = [];
            const minDistance = 60; // –£–º–µ–Ω—å—à–∏–ª–∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Ñ–æ—Ç–æ
            
            // –ó–û–ù–´ –¥–ª—è —Å–ø–∞–≤–Ω–∞ - —Ç–µ–ø–µ—Ä—å –ø–æ –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
            const spawnZones = [
                // –í—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ
                { xMin: 5, xMax: 95, yMin: 5, yMax: 95, weight: 1 }
            ];
            
            // –°–æ–∑–¥–∞–µ–º –í–°–ï –∫–∞—Ä—Ç–∏–Ω–∫–∏
            for (let i = 0; i < photoUrls.length; i++) {
                const img = document.createElement('img');
                img.className = 'floating-photo';
                img.src = photoUrls[i];
                img.alt = `NFT ${i + 1}`;
                img.crossOrigin = 'anonymous';
                
                let attempts = 0;
                let position;
                let collision;
                
                do {
                    collision = false;
                    attempts++;
                    
                    // –í–´–ë–ò–†–ê–ï–ú –ó–û–ù–£
                    const totalWeight = spawnZones.reduce((sum, zone) => sum + zone.weight, 0);
                    let randomWeight = Math.random() * totalWeight;
                    let selectedZone = spawnZones[0];
                    
                    for (const zone of spawnZones) {
                        randomWeight -= zone.weight;
                        if (randomWeight <= 0) {
                            selectedZone = zone;
                            break;
                        }
                    }
                    
                    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø–æ–∑–∏—Ü–∏—é
                    const x = selectedZone.xMin + Math.random() * (selectedZone.xMax - selectedZone.xMin);
                    const y = selectedZone.yMin + Math.random() * (selectedZone.yMax - selectedZone.yMin);
                    
                    position = { x, y };
                    
                    // –ü–†–û–í–ï–†–ö–ê: –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –¥—Ä—É–≥–∏—Ö —Ñ–æ—Ç–æ
                    for (const used of usedPositions) {
                        const distance = Math.sqrt(
                            Math.pow(position.x - used.x, 2) + 
                            Math.pow(position.y - used.y, 2)
                        );
                        
                        if (distance < minDistance) {
                            collision = true;
                            break;
                        }
                    }
                    
                    if (collision) continue;
                    
                    // –ü–†–û–í–ï–†–ö–ê: –ù–µ —Å–ª–∏—à–∫–æ–º –±–ª–∏–∑–∫–æ –∫ –º–µ–Ω—é (—Ü–µ–Ω—Ç—Ä—É)
                    const distToMenu = Math.sqrt(
                        Math.pow(position.x - 50, 2) + 
                        Math.pow(position.y - 50, 2)
                    );
                    
                    if (distToMenu < 25) { // –£–≤–µ–ª–∏—á–∏–ª–∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç –º–µ–Ω—é
                        collision = true;
                        continue;
                    }
                    
                    // –ü–†–û–í–ï–†–ö–ê: –ù–µ —Å–ª–∏—à–∫–æ–º –±–ª–∏–∑–∫–æ –∫ –∫—Ä–∞—è–º
                    if (position.x < 2 || position.x > 98 || position.y < 2 || position.y > 98) {
                        collision = true;
                        continue;
                    }
                    
                } while (collision && attempts < 50); // –£–º–µ–Ω—å—à–∏–ª–∏ –ø–æ–ø—ã—Ç–∫–∏
                
                if (attempts >= 50) {
                    console.warn(`–ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –ø–æ–∑–∏—Ü–∏—é –¥–ª—è —Ñ–æ—Ç–æ ${i + 1}, —Ä–∞–∑–º–µ—â–∞–µ–º –≤ —Å–ª—É—á–∞–π–Ω–æ–º –º–µ—Å—Ç–µ`);
                    // –†–∞–∑–º–µ—â–∞–µ–º –≤ —Å–ª—É—á–∞–π–Ω–æ–º –º–µ—Å—Ç–µ
                    position = {
                        x: 5 + Math.random() * 90,
                        y: 5 + Math.random() * 90
                    };
                }
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é
                img.style.left = `${position.x}%`;
                img.style.top = `${position.y}%`;
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–∑–∏—Ü–∏—é
                usedPositions.push(position);
                
                // –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–æ—Ç–æ
                const offset = Math.random() * 12;
                img.style.animationDelay = `${offset}s`;
                
                // –°–ª—É—á–∞–π–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏
                const duration = 10 + Math.random() * 4;
                img.style.animationDuration = `${duration}s`;
                
                container.appendChild(img);
                
                console.log(`–§–æ—Ç–æ ${i + 1}: x=${position.x.toFixed(1)}%, y=${position.y.toFixed(1)}%`);
            }
            
            console.log(`–°–æ–∑–¥–∞–Ω–æ —Ñ–æ—Ç–æ: ${usedPositions.length}`);
        }
        
        // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–ø–∞–≤–Ω–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
        window.addEventListener('resize', spawnRandomPhotos);
    </script>
    <script src="script.js"></script>
</body>
</html>
