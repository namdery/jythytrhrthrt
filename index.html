// Альтернативный вариант - отправка файла через FormData
async function handleFileUpload(event) {
    const file = event.target.files[0];
    if (!file) return;
    
    // Читаем файл как Data URL
    const reader = new FileReader();
    reader.onload = function(e) {
        const fileData = {
            type: 'file_upload',
            filename: file.name,
            filetype: file.type,
            data: e.target.result, // Base64 данные файла
            timestamp: Date.now()
        };
        
        // Отправляем данные боту
        if (tg && tg.sendData) {
            tg.sendData(JSON.stringify(fileData));
        }
        
        // Закрываем Web App
        setTimeout(() => {
            tg.close();
        }, 500);
    };
    
    reader.readAsDataURL(file);
}
